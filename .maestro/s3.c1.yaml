appId: com.peltops.e_imunisasi.debug
---
- launchApp:
    clearState: true
- clearState: com.android.chrome

- runFlow: onboarding-flow.yaml

- tapOn: Masuk dengan Seribase

- runFlow:
    when:
      visible:
        id: signin_fre_dismiss_button
    commands:
      - tapOn:
          id: signin_fre_dismiss_button

- runFlow:
    when:
      visible: Accept & continue
    commands:
      - tapOn: Accept & continue

- runFlow:
    when:
      visible: No thanks
    commands:
      - tapOn: No thanks

- waitForAnimationToEnd:
    timeout: 10000

- runFlow:
    when:
      visible: Enhanced ad privacy in Chrome
    commands:
      - scrollUntilVisible:
          element:
            id: ack_button
      - tapOn:
          id: ack_button

# Login Page to Register Page
- extendedWaitUntil:
    visible: Register
    timeout: 10000
- tapOn: Register

- runFlow:
    when:
      visible: Try out your stylus
    commands:
      - tapOn:
          id: closeButton

# Register Page - Email
- extendedWaitUntil:
    visible: First name
    timeout: 10000

- runFlow:
    when:
      visible: Try out your stylus
    commands:
      - tapOn:
          id: closeButton

- tapOn:
    text: Email
    index: 1

- runFlow:
    when:
      visible: Try out your stylus
    commands:
      - tapOn:
          id: closeButton

- inputRandomEmail
- tapOn: Next

- runFlow:
    when:
      visible: Try out your stylus
    commands:
      - tapOn:
          id: closeButton

# Register Page - password
- inputText: 'Test123#'
- tapOn: Next

- runFlow:
    when:
      visible: Try out your stylus
    commands:
      - tapOn:
          id: closeButton

# Register Page - confirm pass
- inputText: 'Test123#'
- tapOn: Next

- runFlow:
    when:
      visible: Try out your stylus
    commands:
      - tapOn:
          id: closeButton

# Register Page - first name
- inputRandomPersonName
- tapOn: Next

- runFlow:
    when:
      visible: Try out your stylus
    commands:
      - tapOn:
          id: closeButton

# Register Page - last name
- inputRandomPersonName
# Register Page - submit
- pressKey: Enter
- tapOn: Accept
- assertVisible: Email verification
- tapOn:
    id: close_button
- assertVisible: Masuk dengan Seribase
